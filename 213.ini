#!/bin/bash

n="$1" # Получаем имя команды или файла из первого аргумента

# Проверяем, является ли это встроенной командой
if [[ $(type -t "$n") == "builtin" ]]; then
    echo "$n является встроенной командой."

# Проверяем, является ли это внешней программой (находится в PATH)
elif [[ $(type -t "$n") == "file" ]]; then
    path_to_command=$(command -v "$n")
    echo "$n является внешней программой с путём: $path_to_command."

my_which() {
    local cmd="$1"
    local IFS=':' # Разделитель для PATH
    # Итерируемся по директориям, указанным в PATH
    for dir in $PATH; do
        # Проверяем, существует ли файл и является ли он исполняемым
        if [[ -x "$dir/$cmd" && ! -d "$dir/$cmd" ]]; then
            echo "$dir/$cmd"
            return 0
        fi
    done
    return 1 # Если файл не найден
}

# Основной код
cmd="$1"

if my_which "$cmd"; then
    echo "$cmd найден в PATH."
else
    echo "Ошибка: $cmd не найден в PATH."
fi
