#!/bin/bash

n="$1" # Получаем имя команды или файла из первого аргумента

# Проверяем, является ли это встроенной командой
if [[ $(type -t "$n") == "builtin" ]]; then
    echo "$n является встроенной командой."

# Проверяем, является ли это внешней программой (находится в PATH)
elif [[ $(type -t "$n") == "file" ]]; then
    path_to_command=$(command -v "$n")
    echo "$n является внешней программой с путём: $path_to_command."


# Проверяем, является ли это исполняемым файлом в текущей директории
elif [[ -x "./$n" && -f "./$n" ]]; then
    path_to_file=$(realpath "./$n")
    echo "$n является исполняемым файлом в текущей директории: $path_to_file."

# Ищем вручную в PATH
else
    IFS=':' read -r -a path_array <<< "$PATH" # Разделяем PATH на массив
    found=false
    for dir in "${path_array[@]}"; do
        if [[ -x "$dir/$n" ]]; then
            echo "$n найден в $dir."
            found=true
            break
        fi
    done
    if ! $found; then
        echo "Ошибка: $n не найден в PATH и текущей директории."
    fi
fi
